{"version":3,"file":"pages/photo/edit.js","mappings":"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","sources":["webpack:///./src/components/ColorDot.vue?d91f","webpack:///./src/components/LengthLine.vue?7438","webpack:///./src/pages/photo/edit.vue?7702","webpack:///./src/components/ColorDot.vue?6097","webpack:///./src/components/LengthLine.vue?8a1a","webpack:///./src/pages/photo/edit.vue?ea16","uni-app:///src/components/ColorDot.vue?vue&type=script&lang=ts&","uni-app:///src/components/ColorDot.vue","uni-app:///src/components/LengthLine.vue?vue&type=script&lang=ts&","uni-app:///src/components/LengthLine.vue","uni-app:///src/pages/photo/edit.vue?vue&type=script&lang=ts&","uni-app:///src/pages/photo/edit.vue","webpack:///./src/components/ColorDot.vue?46d9","webpack:///./src/components/ColorDot.vue?ad8d","webpack:///./src/components/ColorDot.vue?f2a5","webpack:///./src/components/LengthLine.vue?72f7","webpack:///./src/components/LengthLine.vue?702f","webpack:///./src/components/LengthLine.vue?d223","webpack:///./src/components/LengthLine.vue?560d","uni-app:///src/main.ts?{\"page\":\"pages%2Fphoto%2Fedit\"}","webpack:///./src/pages/photo/edit.vue?ad6c","webpack:///./src/pages/photo/edit.vue?d82a","webpack:///./src/pages/photo/edit.vue?4a35","webpack:///./src/pages/photo/edit.vue?c87f"],"sourcesContent":["var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","var components\ntry {\n  components = {\n    uImage: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-image/u-image\" */ \"uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form/u-form\" */ \"uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uSwitch: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-switch/u-switch\" */ \"uview-ui/components/u-switch/u-switch.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { __decorate } from \"tslib\";\r\nimport Vue from 'vue';\r\nimport { Component, Emit, Prop } from \"vue-property-decorator\";\r\nlet ColorDot = class ColorDot extends Vue {\r\n    name = \"color-dot\";\r\n    color;\r\n    gradientColor;\r\n    borderColor;\r\n    _click() {\r\n    }\r\n};\r\n__decorate([\r\n    Prop(String)\r\n], ColorDot.prototype, \"color\", void 0);\r\n__decorate([\r\n    Prop(String)\r\n], ColorDot.prototype, \"gradientColor\", void 0);\r\n__decorate([\r\n    Prop(String)\r\n], ColorDot.prototype, \"borderColor\", void 0);\r\n__decorate([\r\n    Emit('click')\r\n], ColorDot.prototype, \"_click\", null);\r\nColorDot = __decorate([\r\n    Component\r\n], ColorDot);\r\nexport default ColorDot;\r\n","<template>\n  <div class=\"cm-dot\" @click=\"_click\"\n    :style=\"{ 'backgroundColor': color, 'border': borderColor ? '1px solid' + borderColor : 'none' }\">\n    <slot />\n  </div>\n</template>\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport { Component, Emit, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class ColorDot extends Vue {\n  name: string = \"color-dot\"\n  @Prop(String)\n  private color?: string;\n  @Prop(String)\n  private gradientColor?: string;\n  @Prop(String)\n  private borderColor?: string\n\n  @Emit('click')\n  _click() {\n\n  }\n\n}\n</script>\n<style lang=\"scss\" scoped>\n.cm-dot {\n  height: 100%;\n  border-radius: 50%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n\n.cm-dot:hover {\n  transform: scale(1.1);\n}\n</style>","import { __decorate } from \"tslib\";\r\nimport Vue from 'vue';\r\nimport { Component, Emit, Prop } from \"vue-property-decorator\";\r\nlet LengthLine = class LengthLine extends Vue {\r\n    name = \"length-line\";\r\n    content;\r\n    horizontal;\r\n    _click() {\r\n    }\r\n};\r\n__decorate([\r\n    Prop(String)\r\n], LengthLine.prototype, \"content\", void 0);\r\n__decorate([\r\n    Prop({ type: Boolean, default: true })\r\n], LengthLine.prototype, \"horizontal\", void 0);\r\n__decorate([\r\n    Emit('click')\r\n], LengthLine.prototype, \"_click\", null);\r\nLengthLine = __decorate([\r\n    Component\r\n], LengthLine);\r\nexport default LengthLine;\r\n","<template>\n  <div :class=\"'cm-line ' + (horizontal ? 'horizontal' : 'vertical')\" @click=\"_click\">\n    <div>{{ content }}</div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport Vue from 'vue'\nimport { Component, Emit, Prop } from \"vue-property-decorator\";\n@Component\nexport default class LengthLine extends Vue {\n  name: string = \"length-line\"\n  @Prop(String)\n  private content!: string\n\n  @Prop({ type: Boolean, default: true })\n  private horizontal?: boolean\n\n\n  @Emit('click')\n  _click() {\n  }\n\n}\n</script>\n<style lang=\"scss\" scoped>\n.cm-line {\n\n  gap: 20rpx;\n}\n\n.horizontal {\n  width: 100%;\n  display: flex;\n  align-items: center;\n\n  div {\n    height: 1px;\n    background-color: black;\n    width: 50%;\n  }\n}\n\n.vertical {\n  height: 100%;\n  width: 1px;\n\n  div {\n    width: 1px;\n    background-color: black;\n    height: 50%;\n  }\n}\n</style>","import { __decorate } from \"tslib\";\r\nimport Vue from 'vue';\r\nimport { Component } from \"vue-property-decorator\";\r\nimport { AddBackgroudColor, GenerateLayoutPhoto } from '@/api/photo';\r\nimport LengthLine from '@/components/LengthLine.vue';\r\nimport ColorDot from '@/components/ColorDot.vue';\r\nimport { Colors } from '@/model/Colors';\r\nimport { Getter } from 'vuex-class';\r\nimport { cloneDeep } from 'lodash';\r\n//标准宽度\r\nconst standard_width = 700;\r\n//图片前缀\r\nconst prefix = 'data:image/png;base64,';\r\nlet PhotoEdit = class PhotoEdit extends Vue {\r\n    colors = { ...Colors };\r\n    //换底证件照参数\r\n    IDPhotoForm = {\r\n        color: Colors[0],\r\n        kb: undefined,\r\n        render: 0\r\n    };\r\n    //图片背景色\r\n    backgroundColor = '';\r\n    //是否高清\r\n    isHd = true;\r\n    //证件照文件临时地址\r\n    idPhotoTempPath = '';\r\n    //排版照文件临时地址\r\n    layoutPhotoTempPath = '';\r\n    //vuex中的图片大小信息\r\n    photoSize;\r\n    //vuex中存储的图片地址\r\n    photoPath;\r\n    /**\r\n     * 计算照片高度\r\n     */\r\n    get imageHeight() {\r\n        const { pxHeight, pxWidth } = this.photoSize;\r\n        if (Number(pxHeight) > Number(pxWidth)) {\r\n            return standard_width + 'rpx';\r\n        }\r\n        else {\r\n            return (standard_width / pxWidth * pxHeight) + 'rpx';\r\n        }\r\n    }\r\n    /**\r\n     * 计算照片宽度\r\n     * 最宽500px\r\n     */\r\n    get imageWidth() {\r\n        const { pxHeight, pxWidth } = this.photoSize;\r\n        if (Number(pxWidth) > Number(pxHeight)) {\r\n            console.log(standard_width);\r\n            return standard_width + 'rpx';\r\n        }\r\n        else {\r\n            return (standard_width / pxHeight * pxWidth) + 'rpx';\r\n        }\r\n    }\r\n    /**\r\n     * 页面加载时初始化\r\n     */\r\n    created() {\r\n    }\r\n    /**\r\n     * 修改图片颜色\r\n     * @param color 颜色\r\n     */\r\n    changeBackgroudColor(color) {\r\n        this.IDPhotoForm.color = color;\r\n    }\r\n    /**\r\n     * 生成换底证件照\r\n     */\r\n    async generateIDPhoto() {\r\n        uni.showLoading({\r\n            title: '正在处理中...'\r\n        });\r\n        const { photoPath: photo, IDPhotoForm, isHd } = this;\r\n        const that = this;\r\n        if (IDPhotoForm.kb === undefined) {\r\n            delete IDPhotoForm.kb;\r\n        }\r\n        //拷贝一下\r\n        const form = cloneDeep(IDPhotoForm);\r\n        //去掉颜色的前缀\r\n        form.color = form.color.replace('#', '');\r\n        await AddBackgroudColor(IDPhotoForm, 'input_image', isHd ? photo.base64Path : photo.base64HDPath)\r\n            .then((res) => {\r\n            const colorBase64 = res['image_base64'];\r\n            if (colorBase64 === undefined) {\r\n                return;\r\n            }\r\n            const saveData = colorBase64.replace(prefix, '');\r\n            //临时文件地址\r\n            const tempPath = `${wx.env.USER_DATA_PATH}/${Date.now()}.png`;\r\n            const fs = uni.getFileSystemManager();\r\n            fs.writeFile({\r\n                filePath: tempPath,\r\n                data: saveData,\r\n                encoding: 'base64',\r\n                success() {\r\n                    that.savePhotoToAlbum(tempPath);\r\n                }, fail(err) {\r\n                    console.error(\"暂存文件到本地发生异常\", err);\r\n                    uni.showModal({\r\n                        title: \"保存失败\",\r\n                        content: `保存发生了异常,保存失败了哦~`\r\n                    });\r\n                }\r\n            });\r\n        }).catch((err) => {\r\n            console.error(\"获取带背景色图片网络请求异常\", err);\r\n            uni.showModal({\r\n                title: \"保存失败\",\r\n                content: `保存发生了异常,保存失败了哦~`,\r\n                showCancel: false,\r\n            });\r\n        });\r\n        uni.hideLoading();\r\n    }\r\n    /**\r\n   * 生成六寸排版照\r\n   */\r\n    async generateLayoutPhoto() {\r\n        uni.showLoading({\r\n            title: '正在处理中...'\r\n        });\r\n        //先生成带底色证件照\r\n        const that = this;\r\n        const { photoSize, IDPhotoForm, isHd, photoPath: photo } = this;\r\n        const layoutPhotoForm = {\r\n            height: photoSize.pxHeight,\r\n            width: photoSize.pxWidth,\r\n            kb: IDPhotoForm.kb\r\n        };\r\n        if (IDPhotoForm.kb === undefined) {\r\n            delete IDPhotoForm.kb;\r\n            delete layoutPhotoForm.kb;\r\n        }\r\n        //拷贝一下\r\n        const idFormCopy = cloneDeep(IDPhotoForm);\r\n        //去掉颜色的前缀\r\n        idFormCopy.color = idFormCopy.color.replace('#', '');\r\n        //根据选择查看是否生成高清图\r\n        const targetBase64 = isHd ? photo.base64Path : photo.base64HDPath;\r\n        //获取带背景色的图\r\n        const { image_base64: colorBase64 } = await AddBackgroudColor(idFormCopy, 'input_image', targetBase64);\r\n        const handledColorBase64 = colorBase64.replace(prefix, \"\");\r\n        //指定路径缓存\r\n        const tempColorImagePath = `${wx.env.USER_DATA_PATH}/temp_color_image.png`;\r\n        const fs = uni.getFileSystemManager();\r\n        //将换底色图片写入本地临时目录\r\n        fs.writeFile({\r\n            filePath: tempColorImagePath,\r\n            data: handledColorBase64,\r\n            encoding: 'base64',\r\n            success() {\r\n                //请求生成排版照\r\n                GenerateLayoutPhoto(layoutPhotoForm, 'input_image', tempColorImagePath)\r\n                    .then((res) => {\r\n                    const layoutBase64 = res['image_base64'];\r\n                    if (layoutBase64 === undefined) {\r\n                        return;\r\n                    }\r\n                    const saveData = layoutBase64.replace(prefix, '');\r\n                    //临时文件地址\r\n                    const tempPath = `${wx.env.USER_DATA_PATH}/image${Date.now()}.png`;\r\n                    const fs = uni.getFileSystemManager();\r\n                    fs.writeFile({\r\n                        filePath: tempPath,\r\n                        data: saveData,\r\n                        encoding: 'base64',\r\n                        success() {\r\n                            that.savePhotoToAlbum(tempPath);\r\n                        }, fail(err) {\r\n                            console.error(\"暂存文件到本地发生异常\", err);\r\n                            uni.showModal({\r\n                                title: \"保存失败\",\r\n                                content: `保存发生了异常,保存失败了哦~`\r\n                            });\r\n                        }\r\n                    });\r\n                }).catch((err) => {\r\n                    console.error(\"获取带背景色图片网络请求异常\", err);\r\n                    uni.showModal({\r\n                        title: \"保存失败\",\r\n                        content: `保存发生了异常,保存失败了哦~`,\r\n                        showCancel: false,\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * 保存图片到相册\r\n     */\r\n    async savePhotoToAlbum(tempPath) {\r\n        //查看用户是否授权保存相册\r\n\r\n        uni.authorize({\r\n            scope: 'scope.writePhotosAlbum',\r\n            success() {\r\n                uni.showLoading({\r\n                    title: '加载中'\r\n                });\r\n\r\n                //保存临时文件到相册\r\n                uni.saveImageToPhotosAlbum({\r\n                    filePath: tempPath,\r\n                    success() {\r\n                        uni.showToast({\r\n                            title: \"保存成功\",\r\n                            content: `图片已保存成功,快去相册看看吧~`,\r\n                            duration: 5000\r\n                        });\r\n                    },\r\n                    fail(err) {\r\n                        const { errMsg } = err;\r\n                        if (errMsg === 'saveImageToPhotosAlbum:fail cancel') {\r\n                            uni.showToast({\r\n                                title: \"保存失败\",\r\n                                content: `您取消了保存到相册哦~`\r\n                            });\r\n                        }\r\n                        else {\r\n                            console.error(\"保存文件时发生异常\", err);\r\n                            uni.showModal({\r\n                                title: \"保存失败\",\r\n                                content: `保存发生了异常,保存失败了哦~`\r\n                            });\r\n                        }\r\n                    }\r\n                });\r\n\r\n            },\r\n            fail() {\r\n                uni.showModal({\r\n                    title: \"保存失败\",\r\n                    content: `用户未授权相册权限,保存失败了哦~`,\r\n                    showCancel: false,\r\n                });\r\n            },\r\n            complete() {\r\n                uni.hideLoading();\r\n            }\r\n        });\r\n\r\n    }\r\n};\r\n__decorate([\r\n    Getter('photoConfig')\r\n], PhotoEdit.prototype, \"photoSize\", void 0);\r\n__decorate([\r\n    Getter('photoPath')\r\n], PhotoEdit.prototype, \"photoPath\", void 0);\r\nPhotoEdit = __decorate([\r\n    Component({ components: { LengthLine, ColorDot } })\r\n], PhotoEdit);\r\nexport default PhotoEdit;\r\n","<template>\n  <div class=\"photo-edit\">\n    <div class=\"preview-box\">\n      <div class=\"photo-box\"\n        :style=\"{ 'height': imageHeight, 'width': imageWidth, 'background-color': IDPhotoForm.color }\">\n        <u-image class=\"photo\" :src=\"isHd ? photoPath.base64HD : photoPath.base64\" mode=\"aspectFit\" :width=\"imageWidth\"\n          :height=\"imageHeight\" />\n      </div>\n    </div>\n    <br />\n    <div class=\"selection-card\">\n      <p>颜色</p>\n      <div class=\"color-list\">\n        <div class=\"color-list-item\" v-for=\"color in colors\" :style=\"{ 'backgroundColor': color }\"\n          :borderColor=\"color == '#FFFFFF' ? '#DCDFE6' : ''\" :key=\"color\" :color=\"color\"\n          @click=\"changeBackgroudColor(color)\"></div>\n      </div>\n    </div>\n\n    <u-form>\n      <u-form-item label=\"是否高清\" label-width=\"80\">\n        <u-switch v-model=\"isHd\" activeColor=\"#F77261\"></u-switch>\n      </u-form-item>\n    </u-form>\n    <div class=\"selection-card selection-gap\">\n\n      <!-- <p>是否高清</p> -->\n\n    </div>\n    <div class=\"bottom-box\">\n      <u-button color=\"#F77261\" :custom-style=\"{ width: '240rpx', borderRadius: '10rpx' }\" :plain=\"true\"\n        @click=\"generateLayoutPhoto\">保存冲印照片</u-button>\n      <u-button color=\"#F77261\" :custom-style=\"{ width: '240rpx', borderRadius: '10rpx' }\"\n        @click=\"generateIDPhoto\">保存证件照片</u-button>\n    </div>\n\n  </div>\n</template>\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport { Component } from \"vue-property-decorator\";\nimport { AddBackgroudColor, GenerateLayoutPhoto } from '@/api/photo'\nimport LengthLine from '@/components/LengthLine.vue'\nimport ColorDot from '@/components/ColorDot.vue'\nimport { Colors } from '@/model/Colors'\nimport { Getter } from 'vuex-class';\nimport { PhotoSize } from '@/model/PhotoSize';\nimport { cloneDeep } from 'lodash'\nimport { PhotoPath } from '@/model/Interfaces'\n\n//标准宽度\nconst standard_width = 700;\n//图片前缀\nconst prefix = 'data:image/png;base64,'\n\n@Component({ components: { LengthLine, ColorDot } })\nexport default class PhotoEdit extends Vue {\n  colors = { ...Colors }\n  //换底证件照参数\n  IDPhotoForm: AnyObject = {\n    color: Colors[0],\n    kb: undefined,\n    render: 0\n  }\n  //图片背景色\n  backgroundColor: string = ''\n  //是否高清\n  isHd: boolean = true\n  //证件照文件临时地址\n  idPhotoTempPath: string = ''\n  //排版照文件临时地址\n  layoutPhotoTempPath: string = ''\n\n  //vuex中的图片大小信息\n  @Getter('photoConfig') photoSize!: PhotoSize\n  //vuex中存储的图片地址\n  @Getter('photoPath') photoPath!: PhotoPath\n  /**\n   * 计算照片高度\n   */\n  get imageHeight() {\n    const { pxHeight, pxWidth } = this.photoSize\n    if (Number(pxHeight) > Number(pxWidth)) {\n      return standard_width + 'rpx'\n    }\n    else {\n      return (standard_width / pxWidth * pxHeight) + 'rpx';\n    }\n  }\n\n  /**\n   * 计算照片宽度\n   * 最宽500px\n   */\n  get imageWidth() {\n    const { pxHeight, pxWidth } = this.photoSize\n    if (Number(pxWidth) > Number(pxHeight)) {\n      console.log(standard_width);\n      return standard_width + 'rpx'\n    }\n    else {\n      return (standard_width / pxHeight * pxWidth) + 'rpx';\n    }\n  }\n  /**\n   * 页面加载时初始化\n   */\n  created() {\n  }\n\n  /**\n   * 修改图片颜色\n   * @param color 颜色\n   */\n  changeBackgroudColor(color: string) {\n    this.IDPhotoForm.color = color\n  }\n  /**\n   * 生成换底证件照\n   */\n  async generateIDPhoto() {\n    uni.showLoading({\n      title: '正在处理中...'\n    });\n    const { photoPath: photo, IDPhotoForm, isHd } = this\n    const that = this\n    if (IDPhotoForm.kb === undefined) {\n      delete IDPhotoForm.kb\n    }\n    //拷贝一下\n    const form = cloneDeep(IDPhotoForm)\n    //去掉颜色的前缀\n    form.color = form.color.replace('#', '')\n    await AddBackgroudColor(IDPhotoForm, 'input_image', isHd ? photo.base64Path : photo.base64HDPath)\n      .then((res) => {\n        const colorBase64 = res['image_base64']\n        if (colorBase64 === undefined) {\n          return\n        }\n        const saveData = colorBase64.replace(prefix, '')\n        //临时文件地址\n        const tempPath = `${wx.env.USER_DATA_PATH}/${Date.now()}.png`;\n        const fs = uni.getFileSystemManager()\n        fs.writeFile({\n          filePath: tempPath,\n          data: saveData,\n          encoding: 'base64',\n          success() {\n            that.savePhotoToAlbum(tempPath)\n          }, fail(err) {\n            console.error(\"暂存文件到本地发生异常\", err);\n            uni.showModal({\n              title: \"保存失败\",\n              content: `保存发生了异常,保存失败了哦~`\n            });\n          }\n        })\n      }).catch((err) => {\n        console.error(\"获取带背景色图片网络请求异常\", err);\n        uni.showModal({\n          title: \"保存失败\",\n          content: `保存发生了异常,保存失败了哦~`,\n          showCancel: false,\n        });\n      })\n    uni.hideLoading()\n  }\n\n  /**\n * 生成六寸排版照\n */\n  async generateLayoutPhoto() {\n    uni.showLoading({\n      title: '正在处理中...'\n    });\n    //先生成带底色证件照\n    const that = this\n    const { photoSize, IDPhotoForm, isHd, photoPath: photo } = this\n    const layoutPhotoForm = {\n      height: photoSize.pxHeight,\n      width: photoSize.pxWidth,\n      kb: IDPhotoForm.kb\n    }\n\n    if (IDPhotoForm.kb === undefined) {\n      delete IDPhotoForm.kb\n      delete layoutPhotoForm.kb\n    }\n    //拷贝一下\n    const idFormCopy = cloneDeep(IDPhotoForm)\n    //去掉颜色的前缀\n    idFormCopy.color = idFormCopy.color.replace('#', '')\n    //根据选择查看是否生成高清图\n    const targetBase64 = isHd ? photo.base64Path : photo.base64HDPath\n    //获取带背景色的图\n    const { image_base64: colorBase64 } = await AddBackgroudColor(idFormCopy, 'input_image', targetBase64)\n    const handledColorBase64 = colorBase64.replace(prefix, \"\")\n    //指定路径缓存\n    const tempColorImagePath = `${wx.env.USER_DATA_PATH}/temp_color_image.png`;\n    const fs = uni.getFileSystemManager()\n    //将换底色图片写入本地临时目录\n    fs.writeFile({\n      filePath: tempColorImagePath,\n      data: handledColorBase64,\n      encoding: 'base64',\n      success() {\n        //请求生成排版照\n        GenerateLayoutPhoto(layoutPhotoForm, 'input_image', tempColorImagePath)\n          .then((res) => {\n            const layoutBase64 = res['image_base64']\n            if (layoutBase64 === undefined) {\n              return\n            }\n            const saveData = layoutBase64.replace(prefix, '')\n            //临时文件地址\n            const tempPath = `${wx.env.USER_DATA_PATH}/image${Date.now()}.png`;\n            const fs = uni.getFileSystemManager()\n            fs.writeFile({\n              filePath: tempPath,\n              data: saveData,\n              encoding: 'base64',\n              success() {\n                that.savePhotoToAlbum(tempPath)\n              }, fail(err) {\n                console.error(\"暂存文件到本地发生异常\", err);\n                uni.showModal({\n                  title: \"保存失败\",\n                  content: `保存发生了异常,保存失败了哦~`\n                });\n              }\n            })\n          }).catch((err) => {\n            console.error(\"获取带背景色图片网络请求异常\", err);\n            uni.showModal({\n              title: \"保存失败\",\n              content: `保存发生了异常,保存失败了哦~`,\n              showCancel: false,\n            });\n          })\n      }\n    })\n  }\n  /**\n   * 保存图片到相册\n   */\n  async savePhotoToAlbum(tempPath: string) {\n    //查看用户是否授权保存相册\n    // #ifndef MP-WEXIN\n    uni.authorize({\n      scope: 'scope.writePhotosAlbum',\n      success() {\n        uni.showLoading({\n          title: '加载中'\n        });\n        // #endif\n        //保存临时文件到相册\n        uni.saveImageToPhotosAlbum({\n          filePath: tempPath,\n          success() {\n            uni.showToast({\n              title: \"保存成功\",\n              content: `图片已保存成功,快去相册看看吧~`,\n              duration: 5000\n            });\n          },\n          fail(err) {\n            const { errMsg } = err\n            if (errMsg === 'saveImageToPhotosAlbum:fail cancel') {\n              uni.showToast({\n                title: \"保存失败\",\n                content: `您取消了保存到相册哦~`\n              });\n            }\n            else {\n              console.error(\"保存文件时发生异常\", err);\n              uni.showModal({\n                title: \"保存失败\",\n                content: `保存发生了异常,保存失败了哦~`\n              });\n            }\n          }\n        })\n        // #ifndef MP-WEXIN\n      },\n      fail() {\n        uni.showModal({\n          title: \"保存失败\",\n          content: `用户未授权相册权限,保存失败了哦~`,\n          showCancel: false,\n        });\n      },\n      complete() {\n        uni.hideLoading()\n      }\n    })\n    // #endif\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n.photo-edit {\n  height: 100%;\n  padding: 0 40rpx;\n}\n\n.selection-card {\n  padding: 20rpx 0;\n\n}\n\n.selection-gap {\n  p {\n    margin-bottom: 30rpx;\n  }\n}\n\n.preview-box {\n  height: 700rpx;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 auto;\n\n  .photo-box {\n    display: flex;\n    justify-content: center;\n\n    .preview-photo {\n      width: 750rpx;\n      height: auto;\n      border: 1px solid #DCDFE6;\n    }\n  }\n}\n\n\n.bottom-box {\n  //减去父元素的padding\n  width: calc(100% - (2 * $page-padding));\n  position: absolute;\n  bottom: 100rpx;\n  display: flex;\n  justify-content: space-around;\n}\n\n.color-list {\n  display: flex;\n  align-items: center;\n  line-height: 120rpx;\n  gap: 30rpx;\n  height: 120rpx;\n  flex-wrap: wrap;\n  margin-top: 40rpx;\n  margin-bottom: 60rpx;\n\n  &-item {\n    height: 60rpx;\n    width: 60rpx;\n    border: 1px solid #DCDFE6;\n    border-radius: 8rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  &-item:hover {\n    transform: scale(1.1);\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, .1);\n  }\n}\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./ColorDot.vue?vue&type=template&id=c27a377e&scoped=true&\"\nvar renderjs\nimport script from \"./ColorDot.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorDot.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ColorDot.vue?vue&type=style&index=0&id=c27a377e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c27a377e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/ColorDot.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41[0].rules[0].use[0]!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-50[0].rules[0].use[0]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ColorDot.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41[0].rules[0].use[0]!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-50[0].rules[0].use[0]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ColorDot.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ColorDot.vue?vue&type=style&index=0&id=c27a377e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ColorDot.vue?vue&type=style&index=0&id=c27a377e&lang=scss&scoped=true&\"","import { render, staticRenderFns, recyclableRender, components } from \"./LengthLine.vue?vue&type=template&id=939c5ad6&scoped=true&\"\nvar renderjs\nimport script from \"./LengthLine.vue?vue&type=script&lang=ts&\"\nexport * from \"./LengthLine.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./LengthLine.vue?vue&type=style&index=0&id=939c5ad6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"939c5ad6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/LengthLine.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41[0].rules[0].use[0]!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-50[0].rules[0].use[0]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./LengthLine.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41[0].rules[0].use[0]!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-50[0].rules[0].use[0]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./LengthLine.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./LengthLine.vue?vue&type=style&index=0&id=939c5ad6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./LengthLine.vue?vue&type=style&index=0&id=939c5ad6&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-44[0].rules[0].use[0]!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./LengthLine.vue?vue&type=template&id=939c5ad6&scoped=true&\"","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\nimport uView from 'uview-ui'\nimport './uni.promisify.adaptor'\n\n\n\nVue.config.productionTip = false\nVue.use(uView)\nconst app = new Vue({\n  store,\n  render: h => h(App)\n})\napp.$mount();\n\n","import { render, staticRenderFns, recyclableRender, components } from \"./edit.vue?vue&type=template&id=c2dee500&scoped=true&\"\nvar renderjs\nimport script from \"./edit.vue?vue&type=script&lang=ts&\"\nexport * from \"./edit.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./edit.vue?vue&type=style&index=0&id=c2dee500&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c2dee500\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/photo/edit.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41[0].rules[0].use[0]!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-50[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-41[0].rules[0].use[0]!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@vue/cli-plugin-typescript/node_modules/ts-loader/index.js??clonedRuleSet-50[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=script&lang=ts&\"","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=style&index=0&id=c2dee500&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=style&index=0&id=c2dee500&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-44[0].rules[0].use[0]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./edit.vue?vue&type=template&id=c2dee500&scoped=true&\""],"names":["__decorate","Vue","Component","Emit","Prop","ColorDot","_Vue","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_defineProperty","_inherits","_createClass","key","value","_click","String","prototype","LengthLine","type","Boolean","default","AddBackgroudColor","GenerateLayoutPhoto","Colors","Getter","cloneDeep","standard_width","prefix","PhotoEdit","_objectSpread","color","kb","undefined","render","get","_this$photoSize","photoSize","pxHeight","pxWidth","Number","_this$photoSize2","console","log","created","changeBackgroudColor","IDPhotoForm","_generateIDPhoto","_asyncToGenerator","_regeneratorRuntime","mark","_callee","photo","isHd","that","form","wrap","_callee$","_context","prev","next","uni","showLoading","title","photoPath","replace","base64Path","base64HDPath","then","res","colorBase64","saveData","tempPath","wx","env","USER_DATA_PATH","Date","now","fs","getFileSystemManager","writeFile","filePath","data","encoding","success","savePhotoToAlbum","fail","err","error","showModal","content","catch","showCancel","hideLoading","stop","generateIDPhoto","apply","_generateLayoutPhoto","_callee2","layoutPhotoForm","idFormCopy","targetBase64","_yield$AddBackgroudCo","handledColorBase64","tempColorImagePath","_callee2$","_context2","height","width","sent","image_base64","layoutBase64","generateLayoutPhoto","_savePhotoToAlbum","_callee3","_callee3$","_context3","authorize","scope","saveImageToPhotosAlbum","showToast","duration","errMsg","complete","_x","components","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Page","createPage"],"sourceRoot":""}